\doxysection{Клас Image}
\label{classImage}\index{Image@{Image}}


Stores pixels, width and height.  




{\ttfamily \#include $<$image.\+h$>$}

\doxysubsection*{Загальнодоступні елементи}
\begin{DoxyCompactItemize}
\item 
\textbf{ Image} (shared\+\_\+ptr$<$ const \textbf{ pixel\+\_\+t}[$\,$]$>$ \textbf{ data}, const int \textbf{ width}, const int \textbf{ height})
\begin{DoxyCompactList}\small\item\em \doxyref{Image}{стор.}{classImage} construcor. Stores reference to pixels, height and width of an image. \end{DoxyCompactList}\item 
shared\+\_\+ptr$<$ const int[256]$>$ \textbf{ calc\+Histogram} () const
\begin{DoxyCompactList}\small\item\em Calculates histogram of an image. Calculates histogram by red channel so \doxyref{Image}{стор.}{classImage} must be grayscaled before. \end{DoxyCompactList}\item 
shared\+\_\+ptr$<$ const \textbf{ Image} $>$ \textbf{ to\+Gray} () const
\begin{DoxyCompactList}\small\item\em Convert image to grayscale. Still uses 24 bytes per pixel. \end{DoxyCompactList}\item 
shared\+\_\+ptr$<$ const \textbf{ Image} $>$ \textbf{ dissect} (\textbf{ channel\+\_\+t} dissection[256]) const
\begin{DoxyCompactList}\small\item\em Dissect image. Dissecting image of every color channel except of alpha. For best result \doxyref{Image}{стор.}{classImage} must be grayscaled before. \end{DoxyCompactList}\item 
shared\+\_\+ptr$<$ const \textbf{ Image} $>$ \textbf{ dilate} (int params[2]) const
\begin{DoxyCompactList}\small\item\em Dilate image. Applies max filter. For this filter used mask with size ({\ttfamily 2$\ast$params[0]+1})x({\ttfamily 2$\ast$params[1]+1}) \end{DoxyCompactList}\item 
shared\+\_\+ptr$<$ const \textbf{ Image} $>$ \textbf{ erode} (int params[2]) const
\begin{DoxyCompactList}\small\item\em Erode image. Applies max filter. For this filter used mask with size ({\ttfamily 2$\ast$params[0]+1})x({\ttfamily 2$\ast$params[1]+1}) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Загальнодоступні статичні елементи}
\begin{DoxyCompactItemize}
\item 
static \textbf{ Image} \textbf{ from\+File} (const char $\ast$path)
\begin{DoxyCompactList}\small\item\em Read image from file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Загальнодоступні атрибути}
\begin{DoxyCompactItemize}
\item 
shared\+\_\+ptr$<$ const \textbf{ pixel\+\_\+t}[$\,$]$>$ \textbf{ data}
\begin{DoxyCompactList}\small\item\em Constant pixels array. Stores smart pointer to {\ttfamily height $\ast$ width} pixels of an image. \end{DoxyCompactList}\item 
const int \textbf{ width}
\begin{DoxyCompactList}\small\item\em Width of an image. \end{DoxyCompactList}\item 
const int \textbf{ height}
\begin{DoxyCompactList}\small\item\em Height of an image. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Детальний опис}
Stores pixels, width and height. 

Див. визначення в файлі image.\+h, рядок 32



\doxysubsection{Конструктор(и)}
\mbox{\label{classImage_ac14349d3c13c9d8181f327cf97586a02}} 
\index{Image@{Image}!Image@{Image}}
\index{Image@{Image}!Image@{Image}}
\doxysubsubsection{Image()}
{\footnotesize\ttfamily Image\+::\+Image (\begin{DoxyParamCaption}\item[{shared\+\_\+ptr$<$ const \textbf{ pixel\+\_\+t}[$\,$]$>$}]{data,  }\item[{const int}]{width,  }\item[{const int}]{height }\end{DoxyParamCaption})}



\doxyref{Image}{стор.}{classImage} construcor. Stores reference to pixels, height and width of an image. 


\begin{DoxyParams}{Аргументи}
{\em data} & Smart reference to array of pixels, size must be {\ttfamily height $\ast$ width}. \\
\hline
{\em width} & Width of an image. \\
\hline
{\em height} & Height of an image. \\
\hline
\end{DoxyParams}


Див. визначення в файлі image.\+cpp, рядок 9


\begin{DoxyCode}{0}
\DoxyCodeLine{11     : data(data), width(width), height(height)}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13 \}}

\end{DoxyCode}


\doxysubsection{Опис методів компонент}
\mbox{\label{classImage_a6c224cde9fd9e650210fd68c92c8d842}} 
\index{Image@{Image}!calcHistogram@{calcHistogram}}
\index{calcHistogram@{calcHistogram}!Image@{Image}}
\doxysubsubsection{calcHistogram()}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ const int[256]$>$ Image\+::calc\+Histogram (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Calculates histogram of an image. Calculates histogram by red channel so \doxyref{Image}{стор.}{classImage} must be grayscaled before. 

\begin{DoxyReturn}{Повертає}
Smart pointer to histogram. 
\end{DoxyReturn}


Див. визначення в файлі image.\+cpp, рядок 24


\begin{DoxyCode}{0}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26     std::shared\_ptr<int[256]> histogram(\textcolor{keyword}{new} \textcolor{keywordtype}{int}[256]\{0\});}
\DoxyCodeLine{27     \textcolor{keyword}{const} pixel\_t *in\_data = data.get();}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{keywordtype}{int} size = height * width;}
\DoxyCodeLine{30     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; i++)}
\DoxyCodeLine{31         histogram[in\_data[i][0]]++;}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keywordflow}{return} histogram;}
\DoxyCodeLine{34 \}}

\end{DoxyCode}
\mbox{\label{classImage_a38073202d9a5725f2fc0966bac9e9166}} 
\index{Image@{Image}!dilate@{dilate}}
\index{dilate@{dilate}!Image@{Image}}
\doxysubsubsection{dilate()}
{\footnotesize\ttfamily shared\+\_\+ptr$<$ const \textbf{ Image} $>$ Image\+::dilate (\begin{DoxyParamCaption}\item[{int}]{params[2] }\end{DoxyParamCaption}) const}



Dilate image. Applies max filter. For this filter used mask with size ({\ttfamily 2$\ast$params[0]+1})x({\ttfamily 2$\ast$params[1]+1}) 


\begin{DoxyParams}{Аргументи}
{\em params} & size of mask. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Повертає}
Smart pointer to dilated image. 
\end{DoxyReturn}


Див. визначення в файлі image.\+cpp, рядок 73


\begin{DoxyCode}{0}
\DoxyCodeLine{74 \{}
\DoxyCodeLine{75     std::shared\_ptr<pixel\_t[]> out\_data(\textcolor{keyword}{new} pixel\_t[width * height]);}
\DoxyCodeLine{76     \textcolor{keyword}{const} pixel\_t *in\_data = data.get();}
\DoxyCodeLine{77     \textcolor{keywordtype}{int} i, j, k, l, kbegin, kend, lbegin, lend;}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordflow}{for} (i = 0; i < height; i++) \{}
\DoxyCodeLine{80         \textcolor{keywordflow}{for} (j = 0; j < width; j++) \{}
\DoxyCodeLine{81             channel\_t mx = in\_data[i * width + j][0];}
\DoxyCodeLine{82             kbegin = max(i -\/ params[1], 0);}
\DoxyCodeLine{83             kend = min(i + params[1] + 1, height);}
\DoxyCodeLine{84             lbegin = max(j -\/ params[0], 0);}
\DoxyCodeLine{85             lend = min(j + params[0], width -\/ 1);}
\DoxyCodeLine{86             \textcolor{keywordflow}{for} (k = kbegin; k != kend; k++) \{}
\DoxyCodeLine{87                 \textcolor{keywordflow}{for} (l = lbegin; l != lend; l++) \{}
\DoxyCodeLine{88                     mx = max(mx, in\_data[k * width + l][0]);}
\DoxyCodeLine{89                 \}}
\DoxyCodeLine{90             \}}
\DoxyCodeLine{91             \textcolor{keywordflow}{for} (k = 0; k < 3; k++) \{}
\DoxyCodeLine{92                 out\_data[i * width + j][k] = mx;}
\DoxyCodeLine{93             \}}
\DoxyCodeLine{94             out\_data[i * width + j][3] = 255;}
\DoxyCodeLine{95         \}}
\DoxyCodeLine{96     \}}
\DoxyCodeLine{97     \textcolor{keywordflow}{return} std::make\_shared<Image>(out\_data, width, height);}
\DoxyCodeLine{98 \}}

\end{DoxyCode}
\mbox{\label{classImage_aab141dc2274be046d22fbcbe0f7b63c4}} 
\index{Image@{Image}!dissect@{dissect}}
\index{dissect@{dissect}!Image@{Image}}
\doxysubsubsection{dissect()}
{\footnotesize\ttfamily shared\+\_\+ptr$<$ const \textbf{ Image} $>$ Image\+::dissect (\begin{DoxyParamCaption}\item[{\textbf{ channel\+\_\+t}}]{dissection[256] }\end{DoxyParamCaption}) const}



Dissect image. Dissecting image of every color channel except of alpha. For best result \doxyref{Image}{стор.}{classImage} must be grayscaled before. 


\begin{DoxyParams}{Аргументи}
{\em dissection} & New values for all possible channel values. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Повертає}
Smart pointer to dissected image. 
\end{DoxyReturn}


Див. визначення в файлі image.\+cpp, рядок 57


\begin{DoxyCode}{0}
\DoxyCodeLine{58 \{}
\DoxyCodeLine{59     \textcolor{keyword}{const} \textcolor{keywordtype}{int} size = width * height;}
\DoxyCodeLine{60     std::shared\_ptr<pixel\_t[]> out\_data(\textcolor{keyword}{new} pixel\_t[size]);}
\DoxyCodeLine{61     \textcolor{keyword}{const} pixel\_t *in\_data = data.get();}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; i++) \{}
\DoxyCodeLine{64         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 3; j++) \{}
\DoxyCodeLine{65             out\_data[i][j] = dissection[in\_data[i][j]];}
\DoxyCodeLine{66         \}}
\DoxyCodeLine{67         out\_data[i][3] = 255;}
\DoxyCodeLine{68     \}}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{keywordflow}{return} std::make\_shared<Image>(out\_data, width, height);}
\DoxyCodeLine{71 \}}

\end{DoxyCode}
\mbox{\label{classImage_a6bbca250cf4930260a8bf03773404e6e}} 
\index{Image@{Image}!erode@{erode}}
\index{erode@{erode}!Image@{Image}}
\doxysubsubsection{erode()}
{\footnotesize\ttfamily shared\+\_\+ptr$<$ const \textbf{ Image} $>$ Image\+::erode (\begin{DoxyParamCaption}\item[{int}]{params[2] }\end{DoxyParamCaption}) const}



Erode image. Applies max filter. For this filter used mask with size ({\ttfamily 2$\ast$params[0]+1})x({\ttfamily 2$\ast$params[1]+1}) 


\begin{DoxyParams}{Аргументи}
{\em params} & size of mask. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Повертає}
Smart pointer to eroded image. 
\end{DoxyReturn}


Див. визначення в файлі image.\+cpp, рядок 100


\begin{DoxyCode}{0}
\DoxyCodeLine{101 \{}
\DoxyCodeLine{102     std::shared\_ptr<pixel\_t[]> out\_data(\textcolor{keyword}{new} pixel\_t[width * height]);}
\DoxyCodeLine{103     \textcolor{keyword}{const} pixel\_t *in\_data = data.get();}
\DoxyCodeLine{104     \textcolor{keywordtype}{int} i, j, k, l, kbegin, kend, lbegin, lend;}
\DoxyCodeLine{105 }
\DoxyCodeLine{106     \textcolor{keywordflow}{for} (i = 0; i < height; i++) \{}
\DoxyCodeLine{107         \textcolor{keywordflow}{for} (j = 0; j < width; j++) \{}
\DoxyCodeLine{108             channel\_t mx = in\_data[i * width + j][0];}
\DoxyCodeLine{109             kbegin = max(i -\/ params[1], 0);}
\DoxyCodeLine{110             kend = min(i + params[1] + 1, height);}
\DoxyCodeLine{111             lbegin = max(j -\/ params[0], 0);}
\DoxyCodeLine{112             lend = min(j + params[0], width -\/ 1);}
\DoxyCodeLine{113             \textcolor{keywordflow}{for} (k = kbegin; k != kend; k++) \{}
\DoxyCodeLine{114                 \textcolor{keywordflow}{for} (l = lbegin; l != lend; l++) \{}
\DoxyCodeLine{115                     mx = min(mx, in\_data[k * width + l][0]);}
\DoxyCodeLine{116                 \}}
\DoxyCodeLine{117             \}}
\DoxyCodeLine{118             \textcolor{keywordflow}{for} (k = 0; k < 3; k++) \{}
\DoxyCodeLine{119                 out\_data[i * width + j][k] = mx;}
\DoxyCodeLine{120             \}}
\DoxyCodeLine{121             out\_data[i * width + j][3] = 255;}
\DoxyCodeLine{122         \}}
\DoxyCodeLine{123     \}}
\DoxyCodeLine{124     \textcolor{keywordflow}{return} std::make\_shared<Image>(out\_data, width, height);}
\DoxyCodeLine{125 \}}

\end{DoxyCode}
\mbox{\label{classImage_ac282669cfe2627b0feeadebeba74c35e}} 
\index{Image@{Image}!fromFile@{fromFile}}
\index{fromFile@{fromFile}!Image@{Image}}
\doxysubsubsection{fromFile()}
{\footnotesize\ttfamily \textbf{ Image} Image\+::from\+File (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Read image from file. 


\begin{DoxyParams}{Аргументи}
{\em path} & Path of image file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Повертає}
{\ttfamily \doxyref{Image}{стор.}{classImage}} class, that also references to pixels. 
\end{DoxyReturn}


Див. визначення в файлі image.\+cpp, рядок 15


\begin{DoxyCode}{0}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{17     \textcolor{keywordtype}{int} width = 0, height = 0;}
\DoxyCodeLine{18     pixel\_t *data = (pixel\_t *)stbi\_load(path, \&width, \&height, NULL, COMP);}
\DoxyCodeLine{19     assert(data != NULL);}
\DoxyCodeLine{20     std::shared\_ptr<pixel\_t[]> ptr(data, stbi\_image\_free);}
\DoxyCodeLine{21     \textcolor{keywordflow}{return} \{ptr, width, height\};}
\DoxyCodeLine{22 \}}

\end{DoxyCode}
\mbox{\label{classImage_ad0f4f038371f5345624ebe5f278646bf}} 
\index{Image@{Image}!toGray@{toGray}}
\index{toGray@{toGray}!Image@{Image}}
\doxysubsubsection{toGray()}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ const \textbf{ Image} $>$ Image\+::to\+Gray (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Convert image to grayscale. Still uses 24 bytes per pixel. 

\begin{DoxyReturn}{Повертає}
Smart pointer to grayscaled image. 
\end{DoxyReturn}


Див. визначення в файлі image.\+cpp, рядок 36


\begin{DoxyCode}{0}
\DoxyCodeLine{37 \{}
\DoxyCodeLine{38     \textcolor{keywordtype}{int} size = width * height;}
\DoxyCodeLine{39     std::shared\_ptr<pixel\_t[]> out\_data(\textcolor{keyword}{new} pixel\_t[size]);}
\DoxyCodeLine{40     \textcolor{keyword}{const} pixel\_t *in\_data = data.get(), *pixel;}
\DoxyCodeLine{41     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} avg;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < size; i++) \{}
\DoxyCodeLine{44         pixel = \&in\_data[i];}
\DoxyCodeLine{45         avg = (*pixel[0] + *pixel[1] + *pixel[2]) / 3;}
\DoxyCodeLine{46         \textcolor{comment}{//avg = fmax((int)pixel[0], (int)pixel[1]);}}
\DoxyCodeLine{47         \textcolor{comment}{//avg = fmax((int)avg, (int)pixel[2]);}}
\DoxyCodeLine{48         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} k = 0; k < 3; k++) \{}
\DoxyCodeLine{49             out\_data[i][k] = avg;}
\DoxyCodeLine{50         \}}
\DoxyCodeLine{51         out\_data[i][3] = 255;}
\DoxyCodeLine{52     \}}
\DoxyCodeLine{53 }
\DoxyCodeLine{54     \textcolor{keywordflow}{return} std::make\_shared<Image>(out\_data, width, height);}
\DoxyCodeLine{55 \}}

\end{DoxyCode}


\doxysubsection{Компонентні дані}
\mbox{\label{classImage_a0bff7334a9e45a84e0503448af829bbb}} 
\index{Image@{Image}!data@{data}}
\index{data@{data}!Image@{Image}}
\doxysubsubsection{data}
{\footnotesize\ttfamily shared\+\_\+ptr$<$const \textbf{ pixel\+\_\+t}[$\,$]$>$ Image\+::data}



Constant pixels array. Stores smart pointer to {\ttfamily height $\ast$ width} pixels of an image. 



Див. визначення в файлі image.\+h, рядок 39

\mbox{\label{classImage_adf1e0c7ecb8f09929175b5d4229beaad}} 
\index{Image@{Image}!height@{height}}
\index{height@{height}!Image@{Image}}
\doxysubsubsection{height}
{\footnotesize\ttfamily const int Image\+::height}



Height of an image. 



Див. визначення в файлі image.\+h, рядок 47

\mbox{\label{classImage_a5be4b15e10ac6609ec9350e79e723246}} 
\index{Image@{Image}!width@{width}}
\index{width@{width}!Image@{Image}}
\doxysubsubsection{width}
{\footnotesize\ttfamily const int Image\+::width}



Width of an image. 



Див. визначення в файлі image.\+h, рядок 43



Документація цих класів була створена з файлів\+:\begin{DoxyCompactItemize}
\item 
\textbf{ image.\+h}\item 
\textbf{ image.\+cpp}\end{DoxyCompactItemize}
